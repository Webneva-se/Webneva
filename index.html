<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Webneva ‚Äì AI Webbutveckling</title>
  <link rel="icon" href="images/bgk-remove.webneva.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
    :root{
      --bg:#0b1020; --panel:#0e152a; --border:rgba(255,255,255,.08);
      --text:#e5e7eb; --muted:#9ca3af; --blue:#3b82f6; --blue-strong:#2563eb;
    }
    html,body{height:100%}
    body{font-family:'Inter',system-ui,sans-serif;background:radial-gradient(1200px 600px at 20% 10%, rgba(59,130,246,.15), transparent),linear-gradient(180deg,#0b1020,#0a0f1d); color:var(--text)}
    .glass{background:rgba(255,255,255,.04); border:1px solid var(--border); backdrop-filter: blur(18px)}
    .btn{border:1px solid var(--border); border-radius:.75rem; padding:.7rem 1rem; font-weight:600}
    .btn:hover{background:rgba(255,255,255,.05)}
    .btn-primary{background:var(--blue); border-color:var(--blue); color:white}
    .btn-primary:hover{background:var(--blue-strong)}
    .badge{font-size:.7rem; padding:.15rem .45rem; border-radius:.5rem; border:1px solid var(--border); background:rgba(59,130,246,.15); color:#90c2ff}
  </style>
</head>
<body class="min-h-screen overflow-x-hidden">
  <!-- Navbar -->
  <nav class="fixed top-0 inset-x-0 z-40 glass">
    <div class="max-w-7xl mx-auto px-5 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="images/bgk-remove.webneva.png" class="h-6 w-6" alt="Webneva">
        <span class="font-extrabold tracking-tight">Webneva</span>
        <span class="text-emerald-400 text-xs flex items-center gap-1">
          <span class="inline-block w-2 h-2 bg-emerald-400 rounded-full animate-pulse"></span> LIVE
        </span>
      </div>
      <div class="flex items-center gap-3">
        <a href="#features" class="text-sm text-slate-300 hover:text-white">Funktioner</a>
        <a href="#how" class="text-sm text-slate-300 hover:text-white">S√• funkar det</a>
        <button id="btnStart" class="btn btn-primary">üöÄ Kom ig√•ng</button>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="pt-28 pb-14 px-6">
    <div class="max-w-6xl mx-auto text-center">
      <span class="badge">AI-drivet ‚Ä¢ Inget konto beh√∂vs</span>
      <h1 class="mt-5 text-5xl md:text-7xl font-extrabold leading-tight">
        Bygg & f√∂rb√§ttra webbsidor
        <span class="bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent">med AI</span>
      </h1>
      <p class="mt-6 text-lg md:text-xl text-slate-300 max-w-3xl mx-auto">
        Svara p√• n√•gra smarta fr√•gor, s√• skapar eller f√∂rb√§ttrar Webneva din webbplats ‚Äì med pixelperfekt design, f√§rdiga sektioner och ren kod.
      </p>
      <div class="mt-8 flex items-center justify-center gap-4">
        <button id="btnStart2" class="btn btn-primary">B√∂rja nu</button>
        <a href="studio.html" class="btn">√ñppna Studio</a>
      </div>
    </div>
  </header>

  <!-- Features (kort) -->
  <section id="features" class="py-14 px-6">
    <div class="max-w-6xl mx-auto grid md:grid-cols-3 gap-6">
      <div class="glass rounded-2xl p-6">
        <div class="text-2xl">‚ö°</div>
        <h3 class="mt-3 font-bold text-xl">Direkt i webbl√§saren</h3>
        <p class="text-slate-300 mt-2">Allt sker lokalt + API. Ingen installation. Spara/exportera n√§r du vill.</p>
      </div>
      <div class="glass rounded-2xl p-6">
        <div class="text-2xl">üé®</div>
        <h3 class="mt-3 font-bold text-xl">Modern design</h3>
        <p class="text-slate-300 mt-2">Tailwind, responsiv layout och f√§rdig typografi. Bara att leverera.</p>
      </div>
      <div class="glass rounded-2xl p-6">
        <div class="text-2xl">üß†</div>
        <h3 class="mt-3 font-bold text-xl">Smart onboarding</h3>
        <p class="text-slate-300 mt-2">En guide st√§ller r√§tt fr√•gor s√• att AI f√∂rst√•r din vision.</p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-10 px-6">
    <div class="max-w-6xl mx-auto text-center text-slate-400 text-sm">
      ¬© 2025 Webneva
    </div>
  </footer>

  <!-- Wizard Modal -->
  <div id="wizard" class="fixed inset-0 z-50 hidden items-center justify-center p-4 bg-black/60">
    <div class="glass rounded-2xl max-w-2xl w-full overflow-hidden">
      <div class="px-6 py-5 flex items-center justify-between border-b border-[var(--border)]">
        <div>
          <h3 class="text-xl font-bold">V√§lj hur du vill b√∂rja</h3>
          <p class="text-slate-400 text-sm">Svara p√• n√•gra fr√•gor, sedan g√∂r vi resten.</p>
        </div>
        <button id="wizClose" class="btn">St√§ng</button>
      </div>

      <!-- Mode chooser -->
      <div id="stepMode" class="p-6 grid md:grid-cols-2 gap-4">
        <button data-mode="create" class="glass rounded-xl p-5 text-left hover:border-blue-500 transition border border-[var(--border)]">
          <div class="flex items-center gap-2">
            <span class="badge">NEW</span>
            <span class="font-semibold">Skapa ny hemsida</span>
          </div>
          <p class="text-slate-400 mt-2 text-sm">Fr√•n b√∂rjan med AI</p>
        </button>
        <button data-mode="improve" class="glass rounded-xl p-5 text-left hover:border-blue-500 transition border border-[var(--border)]">
          <div class="flex items-center gap-2">
            <span>üîß</span>
            <span class="font-semibold">F√∂rb√§ttra befintlig kod</span>
          </div>
          <p class="text-slate-400 mt-2 text-sm">Klistra in din HTML eller b√∂rja fr√•n fil</p>
        </button>
      </div>

      <!-- Questions -->
      <div id="stepQuestions" class="hidden p-6">
        <div id="qHeader" class="flex items-center justify-between mb-4">
          <div class="text-sm text-slate-400"><span id="qIndex">1</span>/<span id="qCount">5</span></div>
          <button id="btnBack" class="btn">Tillbaka</button>
        </div>

        <!-- Dynamic question -->
        <div id="qBody" class="space-y-3"></div>

        <div class="mt-5 flex items-center justify-between">
          <div id="qHelp" class="text-xs text-slate-400"></div>
          <div class="flex gap-2">
            <button id="btnNext" class="btn btn-primary">N√§sta</button>
          </div>
        </div>
      </div>

      <!-- Summary -->
      <div id="stepSummary" class="hidden p-6">
        <h4 class="text-lg font-bold mb-2">Sammanfattning</h4>
        <div id="summaryBox" class="glass rounded-xl p-4 text-sm"></div>
        <div class="mt-5 flex items-center justify-between">
          <button id="btnBack2" class="btn">Tillbaka</button>
          <button id="btnStartStudio" class="btn btn-primary">Starta Studio</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module">
    // ------- State -------
    const SETUP_KEY = 'WEBNEVA_SETUP_V1';
    let mode = null; // 'create' | 'improve'
    let answers = {};

    // Questions for each mode
    const Q = {
      create: [
        { id:'purpose', label:'Vad √§r syftet med webbplatsen?', type:'text', placeholder:'Portf√∂lj, butik, event, SaaS, etc.' },
        { id:'audience', label:'Vem √§r m√•lgruppen?', type:'text', placeholder:'T.ex. kunder i Sverige, investerare, fans...' },
        { id:'style', label:'Vilken k√§nsla vill du ha i designen?', type:'select', options:['Modern & minimalistisk','Kreativ & f√§rgstark','Klassisk & sober','Tech / SaaS'], help:'P√•verkar typografi, f√§rger, spacing' },
        { id:'pages', label:'Vilka sidor beh√∂vs?', type:'chips', options:['Startsida','Tj√§nster','Om oss','Kontakt','Blogg','FAQ','Portfolio'] },
        { id:'cta', label:'Vad √§r viktigaste call-to-action?', type:'text', placeholder:'Boka m√∂te, k√∂p nu, prenumerera...' },
      ],
      improve: [
        { id:'goal', label:'Vad vill du f√∂rb√§ttra?', type:'select', options:['Design & layout','Tillg√§nglighet & semantik','Prestanda','Kodst√§dning','Responsivitet'],'help':'Du kan justera sen i Studio' },
        { id:'pages', label:'Hur m√•nga sidor r√∂r det?', type:'text', placeholder:'T.ex. startsida + admin + dashboard' },
        { id:'style', label:'Designstil att efterstr√§va', type:'select', options:['Modern & minimalistisk','Tech / SaaS','Kreativ & f√§rgstark','Klassisk & sober'] },
        { id:'notes', label:'√ñvriga √∂nskem√•l eller krav', type:'textarea', placeholder:'T.ex. ‚Äúbeh√•ll f√§rgerna‚Äù, ‚Äúl√§gg in testimonials‚Äù...' },
        { id:'code', label:'Klistra in din nuvarande HTML (frivilligt)', type:'textarea', placeholder:'Hela HTML-dokumentet. L√§mna tomt om du vill klistra in i Studio ist√§llet.' },
      ]
    };

    // ------- Elements -------
    const wizard = document.getElementById('wizard');
    const wizClose = document.getElementById('wizClose');
    const stepMode = document.getElementById('stepMode');
    const stepQuestions = document.getElementById('stepQuestions');
    const stepSummary = document.getElementById('stepSummary');
    const qBody = document.getElementById('qBody');
    const qIndexEl = document.getElementById('qIndex');
    const qCountEl = document.getElementById('qCount');
    const qHelp = document.getElementById('qHelp');
    const btnBack = document.getElementById('btnBack');
    const btnBack2 = document.getElementById('btnBack2');
    const btnNext = document.getElementById('btnNext');
    const btnStartStudio = document.getElementById('btnStartStudio');
    const summaryBox = document.getElementById('summaryBox');

    // open modal
    const openWizard = ()=>{ wizard.classList.remove('hidden'); wizard.classList.add('flex'); };
    document.getElementById('btnStart').onclick=openWizard;
    document.getElementById('btnStart2').onclick=openWizard;
    wizClose.onclick=()=>{ wizard.classList.add('hidden'); wizard.classList.remove('flex'); };

    // choose mode
    Array.from(stepMode.querySelectorAll('[data-mode]')).forEach(btn=>{
      btn.addEventListener('click', ()=>{
        mode = btn.dataset.mode; answers = {};
        startQuestions();
      });
    });

    let qi = 0; // question index
    function startQuestions(){
      stepMode.classList.add('hidden');
      stepSummary.classList.add('hidden');
      stepQuestions.classList.remove('hidden');
      qi = 0;
      renderQuestion();
    }

    function renderQuestion(){
      const qs = Q[mode];
      qCountEl.textContent = qs.length;
      qIndexEl.textContent = qi+1;
      const q = qs[qi];
      qBody.innerHTML = "";
      qHelp.textContent = q.help || "";

      const label = document.createElement('label');
      label.className = "block text-sm mb-2";
      label.textContent = q.label;
      qBody.appendChild(label);

      // field
      let field;
      if (q.type === 'text') {
        field = document.createElement('input');
        field.type = 'text';
        field.className = "w-full glass rounded-xl px-4 py-3 outline-none";
        field.placeholder = q.placeholder || "";
        field.value = answers[q.id] || "";
      } else if (q.type === 'textarea') {
        field = document.createElement('textarea');
        field.className = "w-full glass rounded-xl px-4 py-3 h-40 outline-none";
        field.placeholder = q.placeholder || "";
        field.value = answers[q.id] || "";
      } else if (q.type === 'select') {
        field = document.createElement('select');
        field.className = "w-full glass rounded-xl px-4 py-3 outline-none";
        (q.options||[]).forEach(opt=>{
          const o = document.createElement('option');
          o.value = opt; o.textContent = opt;
          field.appendChild(o);
        });
        field.value = answers[q.id] || (q.options?.[0]||"");
      } else if (q.type === 'chips') {
        field = document.createElement('div');
        field.className = "flex flex-wrap gap-2";
        (q.options||[]).forEach(opt=>{
          const chip = document.createElement('button');
          chip.type="button";
          chip.className="px-3 py-2 rounded-lg border border-[var(--border)] hover:border-blue-500";
          chip.textContent = opt;
          chip.dataset.v = opt;
          if ((answers[q.id]||[]).includes(opt)) chip.classList.add('ring','ring-blue-500/30','border-blue-500');
          chip.onclick=()=>{
            const arr = new Set(answers[q.id]||[]);
            if (arr.has(opt)) arr.delete(opt); else arr.add(opt);
            answers[q.id] = Array.from(arr);
            renderQuestion(); // rerender to update visuals
          };
          field.appendChild(chip);
        });
      }
      qBody.appendChild(field);

      // nav
      btnBack.disabled = (qi===0);
      btnNext.textContent = (qi===qs.length-1) ? "Forts√§tt" : "N√§sta";

      btnNext.onclick = ()=>{
        const q = qs[qi];
        if (q.type==='chips') {
          // already stored via click
        } else {
          answers[q.id] = field.value.trim();
        }
        if (qi<qs.length-1){ qi++; renderQuestion(); }
        else { showSummary(); }
      };
      btnBack.onclick = ()=>{
        if (qi>0){ qi--; renderQuestion(); }
        else { // back to mode
          stepQuestions.classList.add('hidden');
          stepMode.classList.remove('hidden');
        }
      };
    }

    function showSummary(){
      stepQuestions.classList.add('hidden');
      stepSummary.classList.remove('hidden');
      const pretty = Object.entries(answers).map(([k,v])=>{
        const val = Array.isArray(v)? v.join(', ') : v || '‚Äî';
        return `<div class="py-1"><span class="text-slate-400">${k}</span>: <span class="font-semibold">${val}</span></div>`;
      }).join('');
      summaryBox.innerHTML = `
        <div class="text-sm">L√§ge: <span class="font-semibold">${mode==='create'?'Skapa ny sida':'F√∂rb√§ttra kod'}</span></div>
        <div class="mt-3">${pretty}</div>
      `;
    }

    btnBack2.onclick = ()=>{ stepSummary.classList.add('hidden'); startQuestions(); };

    btnStartStudio.onclick = ()=>{
      const payload = { mode, answers, timestamp: Date.now(), autoRun:true };
      localStorage.setItem(SETUP_KEY, JSON.stringify(payload));
      window.location.href = 'studio.html';
    };
  </script>
</body>
</html>

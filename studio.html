<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webneva Studio ‚Äì AI-driven webbutveckling</title>
  <link rel="icon" href="images/webneva-logo.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      font-family: Inter, system-ui, sans-serif;
      background: linear-gradient(135deg, #f7faff, #e9eff8);
    }
    .brand-bg { background-color: #0f4c81; }
    .brand-bg:hover { background-color: #0c3b63; }
    .glass { background: rgba(255,255,255,0.85); backdrop-filter: blur(12px); }
    .chat-bubble { border-radius: 1rem; padding: .75rem 1rem; margin-bottom: .75rem; word-wrap: break-word; white-space: pre-wrap; }
    .chat-ai { background-color: #f1f5f9; align-self: flex-start; }
    .chat-user { background-color: #0f4c81; color: white; align-self: flex-end; }
  </style>
</head>
<body class="antialiased">

  <!-- Header -->
  <header class="fixed inset-x-0 top-0 z-50 glass shadow-md border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <img src="images/webneva-logo.png" alt="Webneva" class="h-10 w-10 object-contain drop-shadow">
        <span class="font-extrabold text-2xl text-[#0f4c81]">Webneva<span class="text-blue-500"> Studio</span></span>
      </div>

      <!-- Profilmeny -->
      <div class="relative">
        <button id="profileBtn" class="flex items-center gap-2 px-4 py-2 rounded-full bg-white shadow hover:shadow-md border border-slate-200 transition">
          <i class="fa-solid fa-user text-slate-600"></i>
          <span class="text-sm font-medium text-slate-700">Profil</span>
          <i class="fa-solid fa-chevron-down text-xs text-slate-500"></i>
        </button>
        <div id="profileMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-100">
          <a href="#" class="block px-4 py-2 text-sm hover:bg-slate-100">Mitt konto</a>
          <a href="#" class="block px-4 py-2 text-sm hover:bg-slate-100">Inst√§llningar</a>
          <hr class="my-1">
          <a href="#" id="loginBtn" class="block px-4 py-2 text-sm text-blue-600 hover:bg-blue-50">Logga in</a>
          <a href="/" class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50">Logga ut</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="pt-28 pb-16 max-w-7xl mx-auto px-6 grid lg:grid-cols-2 gap-8">

    <!-- Kod-editor -->
    <section class="glass rounded-2xl shadow-lg p-6 flex flex-col">
      <h2 class="font-bold text-xl mb-3 flex items-center gap-2 text-[#0f4c81]">
        <i class="fa-solid fa-code"></i> Kodeditor
      </h2>
      <textarea id="userCode" class="flex-1 border rounded-lg p-3 text-sm font-mono bg-white resize-none focus:ring-2 focus:ring-blue-400" placeholder="Klistra in din kod h√§r..."></textarea>
      <div class="mt-4 flex gap-3 justify-end">
        <button id="previewBtn" class="brand-bg text-white px-5 py-2 rounded-lg font-semibold shadow hover:opacity-90 transition">Visa live</button>
        <button id="sendMessageBtn" class="bg-emerald-600 hover:bg-emerald-700 text-white px-5 py-2 rounded-lg font-semibold shadow transition">‚ú® F√∂rb√§ttra med AI</button>
      </div>
    </section>

    <!-- AI-sektion -->
    <section class="glass rounded-2xl shadow-lg p-6 flex flex-col">
      <h2 class="font-bold text-xl mb-3 flex items-center gap-2 text-[#0f4c81]">
        <i class="fa-solid fa-wand-magic-sparkles"></i> Interagera med AI
      </h2>

      <div id="chatBox" class="flex flex-col flex-1 overflow-y-auto border rounded-lg bg-white p-4 text-sm mb-4" style="height: 400px;">
        <div class="chat-bubble chat-ai">
          üëã Hej! Klistra in din kod till v√§nster och klicka p√• <strong>"F√∂rb√§ttra med AI"</strong> s√• hj√§lper jag dig.
        </div>
      </div>

      <textarea id="userMessage" class="w-full border rounded-lg p-2 text-sm mb-3 resize-none focus:ring-2 focus:ring-blue-400" rows="2" placeholder="Skriv till AI..."></textarea>
      <button id="sendChatBtn" class="brand-bg text-white px-5 py-2 rounded-lg font-semibold shadow hover:opacity-90 transition">Skicka</button>
      <a href="/" class="mt-6 text-center text-sm text-blue-600 hover:underline">‚Üê Tillbaka till startsidan</a>
    </section>

  </main>

  <script>
  // Dropdown-profil
  document.getElementById("profileBtn").addEventListener("click", () => {
    document.getElementById("profileMenu").classList.toggle("hidden");
  });

  // Preview-funktion
  document.getElementById("previewBtn").addEventListener("click", () => {
    const code = document.getElementById("userCode").value;
    const win = window.open("", "_blank");
    win.document.open();
    win.document.write(code);
    win.document.close();
  });

  // AI-funktion
  async function sendToAI(message) {
    const chatBox = document.getElementById("chatBox");
    const userDiv = document.createElement("div");
    userDiv.className = "chat-bubble chat-user";
    userDiv.innerText = message;
    chatBox.appendChild(userDiv);
    chatBox.scrollTop = chatBox.scrollHeight;

    const thinkingDiv = document.createElement("div");
    thinkingDiv.className = "chat-bubble chat-ai italic text-gray-500";
    thinkingDiv.innerText = "‚è≥ AI bearbetar...";
    chatBox.appendChild(thinkingDiv);
    chatBox.scrollTop = chatBox.scrollHeight;

    try {
      const res = aw
